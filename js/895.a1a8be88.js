"use strict";(self["webpackChunkshirts_web"]=self["webpackChunkshirts_web"]||[]).push([[895],{8895:function(e,t,a){a.r(t),a.d(t,{default:function(){return Z}});var i=a(3396),l=a(7139);const s={class:"container-base"},r={class:"product-container"},d={key:0,class:"design-container"};function o(e,t,a,o,n,u){const c=(0,i.up)("ProductDetail");return(0,i.wg)(),(0,i.iD)("div",s,[(0,i._)("div",r,[e.detailShirt?((0,i.wg)(),(0,i.iD)("div",d,[(0,i._)("div",{class:"product-img",style:(0,l.j5)(`background-image: url(${e.detailShirt.design})`)},null,4)])):(0,i.kq)("",!0),e.detailShirt?((0,i.wg)(),(0,i.j4)(c,{key:1,shirtData:e.detailShirt,class:"detail-product"},null,8,["shirtData"])):(0,i.kq)("",!0)])])}var n=a(919),u=a(5101),c=a(9752),p=a(1888),h=a(1334),m=a(1037),g=a(2356),v=a(2902);const S=e=>((0,i.dD)("data-v-2b8344d6"),e=e(),(0,i.Cn)(),e),y={class:"text-h4 text--primary"},b={class:"text--primary mb-3"},_=S((()=>(0,i._)("p",{class:"mb-5"},"60 available",-1))),w={class:"container-action-buttons mb-2"},D=(0,i.Uk)(" Buy now "),f=(0,i.Uk)(" Add car ");function z(e,t,a,s,r,d){const o=(0,i.up)("DialogFullScreen");return(0,i.wg)(),(0,i.j4)(c._,{class:"mx-auto"},{default:(0,i.w5)((()=>[(0,i.Wm)(p.Z,null,{default:(0,i.w5)((()=>[(0,i._)("p",y,(0,l.zw)(e.shirtData.title),1),(0,i._)("p",b,(0,l.zw)(e.shirtData.description),1),(0,i._)("p",null,"$ "+(0,l.zw)(e.shirtData.finalPrice),1)])),_:1}),(0,i.Wm)(h.h,{class:"d-block"},{default:(0,i.w5)((()=>[(0,i.Wm)(g.N,{modelValue:e.selection,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selection=t),class:"mb-5","active-class":"deep-purple--text text--accent-4",mandatory:""},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.sizes,(e=>((0,i.wg)(),(0,i.j4)(m.v,{color:"primary",key:e,value:e._id},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(e.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"]),_,(0,i.Wm)(v.h,{modelValue:e.quantity,"onUpdate:modelValue":t[1]||(t[1]=t=>e.quantity=t),rules:e.quantityRules,max:6,label:"Quantity",type:"number",variant:"outlined",required:""},null,8,["modelValue","rules"]),(0,i._)("div",w,[(0,i.Wm)(u.T,{variant:"elevated",size:"large",color:"primary",onClick:t[2]||(t[2]=t=>e.btnBuyProduct())},{default:(0,i.w5)((()=>[D])),_:1}),(0,i.Wm)(u.T,{variant:"elevated",size:"large",color:"primary",onClick:t[3]||(t[3]=t=>e.addItemToStoreId())},{default:(0,i.w5)((()=>[f])),_:1})])])),_:1}),(0,i.Wm)(o,{onHandleDialog:t[4]||(t[4]=t=>e.handleDialogStep(t)),dialog:e.dialogSteps,pastSteps:e.steps},null,8,["dialog","pastSteps"])])),_:1})}var k=a(4870),I=a(6828),q=(0,i.aZ)({name:"ProductDetail",props:{shirtData:{type:Object,required:!0}},components:{DialogFullScreen:I.Z},created(){console.log(this),this.sizes.length<1?this.fetchAllSizes():this.selection=this.sizes[0]._id},data:()=>({}),setup(e){const{setIdStore:t,fetchAllSizes:a,buyProduct:l}=(0,n.ol)(["setIdStore","fetchAllSizes","buyProduct"]),{user:s,storeId:r,sizes:d}=(0,n.eJ)(["user","storeId","sizes"]),o=(0,k.iH)(1),u=(0,k.iH)(""),c=(0,k.iH)(!1),p=(0,k.iH)([{component:"Register",tutorial:!1}]),h=(0,k.iH)([e=>!!e||"El campo es requerido",e=>/^[0-9]{1,6}$/.test(e)||"No debe tener mas de 6 digitos",e=>e>0||"No debe ser menos de 1"]);(0,i.YP)(d,(e=>{e.length>0&&(u.value=e[0]._id)}));const m=()=>{t({id:e.shirtData._id,quantity:o.value,size:u.value})},g=()=>{console.log("buyProduct",s),s.value?l({userId:e.shirtData.userId,productId:e.shirtData._id,sizeId:u.value,quantity:o.value}):v(!0)},v=e=>{console.log("handleDialogStep",e),c.value=e};return{quantityRules:h,quantity:o,selection:u,addItemToStoreId:m,btnBuyProduct:g,setIdStore:t,storeId:r,sizes:d,fetchAllSizes:a,steps:p,dialogSteps:c,handleDialogStep:v}}}),P=a(89);const x=(0,P.Z)(q,[["render",z],["__scopeId","data-v-2b8344d6"]]);var H=x,V=(0,i.aZ)({props:{id:{type:String,required:!1}},name:"DetailView",components:{ProductDetail:H},setup(e){const{fetchShirt:t,handleGenericLoading:a}=(0,n.ol)(["fetchShirt","handleGenericLoading"]),{detailShirt:l}=(0,n.eJ)(["detailShirt"]);return(0,i.bv)((async()=>{a(!0),await t(e.id),a(!1)})),{fetchShirt:t,detailShirt:l,handleGenericLoading:a}}});const W=(0,P.Z)(V,[["render",o],["__scopeId","data-v-d1bd8ac6"]]);var Z=W}}]);
//# sourceMappingURL=895.a1a8be88.js.map